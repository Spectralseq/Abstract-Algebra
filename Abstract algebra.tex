\documentclass[10pt,a4paper]{book}
\include{documentpre}
%\usepackage{showkeys}
%\usepackage{apacite}
\usepackage{adjustbox}
\usepackage{indentfirst} 


\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{exercise}{Exercise}[section]

\allowdisplaybreaks
\raggedbottom
\special{xdvipdfmx:config z0}
\addbibresource{Bibtex.bib}

\title{Algebra}
\author{Xiaolong Pan}
\begin{document}
\begin{titlepage}
\vspace*{5em}{\centering\Huge\usefont{T1}{qzc}{m}{it}
Algebra\\}
\vspace*{2em}{\centering Xiaolong Pan\\}
\vspace*{1em}{\centering \today\\}
\vspace*{8em}{\[\includegraphics{pictures/blowup_A2.png}\]}
\end{titlepage}
\tableofcontents

%\include{chapter/etale-space}
%\include{chapter/naive-number-theory}
%\include{chapter/Boolean}
%\include{chapter/Group}
%\include{chapter/Linear-algebra}
%\include{chapter/linear-algebra-problems}
%\include{chapter/ANT}
%\include{chapter/alg-curve}
%\include{chapter/rep-of-S_n}
%\include{chapter/representation}
%\include{chapter/group-representation}
%\include{chapter/Lie-alg}

%\include{chapter/alg-structure}
%\include{chapter/linear-algebra-2}
%\include{chapter/homological-algebra}
%\include{chapter/dim-theory}
%\include{chapter/D-module}

%\include{chapter/topo}
%\include{chapter/ring}
\include{chapter/Field}
%\include{chapter/commutative-algebra}
%\include{chapter/Lie-alg-grp}
%\include{chapter/category}
%\include{chapter/inf-category}
%\include{chapter/sheaf}
%\include{chapter/scheme}
%\include{chapter/topos-cohomology}
%\include{chapter/group-scheme}

\printbibliography

\end{document}

\section{Reductive groups: uniqueness of pinned groups}
\subsection{Pinnings}
\begin{definition}
Let $S$ be a scheme, $(G,T,M,R)$ be a splitting $S$-group. We define a \textbf{pinning} of this splitting group to be the data of a system $\Delta$ of simple roots of $R$ and for each $\alpha\in\Delta$ a section $X_\alpha\in\Gamma(S,\g^\alpha)^\times$. In other words, a \textbf{pinning} of a reductive group $G$ over a nonempty scheme $S$ is the following data:
\begin{enumerate}
    \item[(\rmnum{1})] a maximal torus $T$,
    \item[(\rmnum{2})] an abelian group $M$ and an isomorphism $T\cong D_S(M)$,
    \item[(\rmnum{3})] a root system $R$ of $G$ relative to $T$,
    \item[(\rmnum{4})] for each $\alpha\in\Delta$ a section $X_\alpha\in\Gamma(S,\g^\alpha)^\times$, that is, for any $\alpha\in\Delta$, a section
    \[u_\alpha=\exp_\alpha(X_\alpha)\in U_\alpha^\times(S),\]
\end{enumerate}
which verifies the conditoin (D1) of \cref{scheme group reductive splitting def} (note that condition (D2) is automatically verified).
\end{definition}
Any splitting group possesses a pinning; in particular, any reductive group reductive group is locally pinnable for the \'etale topology (\cref{scheme group reductive etale local splittable}).\par
If $G$ is a \textbf{pinned} $S$-group, that is, a splitting $S$-group endowed with a pinning, it is canonically endowed with a system of positive roots $R_+$ defined by $\Delta$, with corresponding Borel subgroup $B=B_{R_+}$ and opposite Borel subgroup $B^-=B_{R_-}$, and unipotent groups $U=B^u$, $U^-=(B^-)^u$, and open subset $U^-\cdot T\cdot U$, etc. Similarly, for each $\alpha\in\Delta$, we have a canonical isomorphism of vectorial groups
\[p_\alpha:\G_{a,S}\stackrel{\sim}{\to} U_\alpha,\quad x\mapsto\exp_\alpha(xX_\alpha)=u_\alpha^x,\]
which is normalized by $T$ with multiplicator $\alpha$, and whose data is equivalent to that of $X_\alpha$.\par
By duality, we then deduce a section $X_{-\alpha}\in\Gamma(S,\g^{-\alpha})^\times$ and an isomorphism
\[p_{-\alpha}:\G_{a,S}\stackrel{\sim}{\to} U_{-\alpha},\]
which is the contragredient of the preceding morphism. We put (cf. \cref{scheme group elementary system Weyl group prop})
\[w_\alpha=w_\alpha(X_\alpha)=p_\alpha(1)p_{-\alpha}(-1)p_\alpha(1)\]
By \cref{scheme group elementary system Weyl group prop}, \cref{scheme group elementary system a_alpha morphism prop} and \cref{scheme group elementary system a_alpha exp prop}, we then have
\begin{gather}
w_\alpha^2=\check{\alpha}(-1),\quad \inn(w_\alpha)t=s_\alpha(t)=t\cdot\check{\alpha}(\alpha(t)^{-1}),\label{scheme group pinned w_alpha prop-1}\\
\begin{cases*}
\inn(w_\alpha)p_\alpha(x)=p_{-\alpha}(-x)=p_{-\alpha}(x)^{-1},\\
\Ad(w_\alpha)X_\alpha=-X_{-\alpha},
\end{cases*}\label{scheme group pinned w_alpha prop-2}\\
\begin{cases*}
\inn(w_\alpha)p_{-\alpha}(x)=p_\alpha(-x)=p_\alpha(x)^{-1},\\
\Ad(w_\alpha)X_{-\alpha}=-X_\alpha.
\end{cases*}\label{scheme group pinned w_alpha prop-3}
\end{gather}

Let $S$ be a scheme, $(G,T,M,R,\Delta,(X_\alpha))$ and $(G',T',M',R',\Delta',(X'_\alpha))$ be two pinned $S$-groups.

\section{Constructible sets}
In this section, we introduce constructible sets which are a class of subsets of a topological space that have a relatively "simple" structure. This notation is used particularly in algebraic geometry and related fields: for example, a key result known as Chevalley's theorem in algebraic geometry shows that the image of a constructible set is constructible for an important class of mappings (more specifically morphisms) of algebraic varieties (or more generally schemes). In addition, a large number of "local" geometric properties of schemes, morphisms and sheaves are (locally) constructible. Constructible sets also feature in the definition of various types of constructible sheaves in algebraic geometry and intersection cohomology, for example the notion of constructible sheaves in \'etale cohomology.

\subsection{Constructible sets in topological spaces}
A subset $Z$ of a topological space $X$ is called \textbf{retrocompact} in $X$ if for any quasi-compact open subset $U$ of $X$, the intersection $Z\cap U$ is quasi-compact. A closed subset of $X$ is clearly retrocompact in $X$, but a non-closed quasi-compact subset of $X$ is not necessarilly retrocompact. If $X$ is quasi-compact, then any retrocompact open subset of $X$ is quasi-compact, since we can take $U=X$ in the above definition. It is clear that any finite union of retrocompact subsets in $X$ is retrocompact in $X$, since any finite union of quasi-compact subsets is quasi-compact. Also, a finite intersection of open retrocompact open subsets in $X$ is a retrocompact open subset in $X$. It is also important to note that, in a locally Noetherian space $X$, any quasi-compact subset is a Noetherian space, so any subset of $X$ is retrocompact in $X$.

\begin{definition}
Let $X$ be a topological space. A subset of $X$ is called \textbf{quasi-constructible} (resp. \textbf{constructible}) if it belongs to the smallest collection $\mathfrak{F}$ of subsets of $X$ which contains the open subsets (resp. retrocompact open subsets) of $X$ and is stable under finite intersection and taking complements (and hence under finite union).
\end{definition}
It is clear that any constructible subset of $X$ is quasi-constructible, and the converse is ture if $X$ is locally Noetherian.

\begin{proposition}\label{topo space constructible iff finite union}
For a subset of $X$ to be quasi-constructible (resp. constructible), it is necessary and sufficient that it is a finite union of subsets of the form $U\cap V^c$, where $U$ and $V$ are open (resp. retrocompact open) subsets of $X$.
\end{proposition}
\begin{proof}
It is clear that this condition is sufficient. For the converse, consider the set $\mathfrak{S}$ of finite union of subsets of the form $U\cap V^c$, where $U$ and $V$ are open (resp. retrocompact open) subsets of $X$. Since $\mathfrak{S}\sub\mathfrak{F}$, it suffices to prove that $\mathfrak{S}$ is closed under complements, whence $\mathfrak{S}=\mathfrak{F}$. Let $Z=\bigcup_{i\in I}(U_i\cap V_i^c)$, where $I$ is finite and $U_i,V_i$ are open (resp. retrocompact open) subsets of $X$. We then have $Z^c=\bigcap_{i\in I}(V_i\cup U_i^c)$, so $Z^c$ is a finite union of subsets which are intersectios of certain number of $V_i$ and $U_i^c$, hence of the form $V\cap U^c$, where $U$ is a union of some $U_i$ and $V$ is a intersection of some $V_i$. The conclusion then follows from the fact that open (resp. retrocompact open) subsets of $X$ are closed under finite unions and finite intersections.
\end{proof}

We can also say that the quasi-constructible subsets of $X$ are the finite unions of \textit{locally closed subsets} of $X$.

\begin{corollary}\label{topo space constructible is retrocompact}
Any constructible subset of $X$ is retrocompact in $X$.
\end{corollary}
\begin{proof}
It suffices to show that if $U$ and $V$ are retrocompact open subsets of $X$, then $U\cap V^c$ is retrocompact in $X$. In fact, if $W$ is quasi-compact in $X$, then $W\cap U\cap V^c$ is closed in the quasi-compact space $W\cap U$, whence quasi-compact. 
\end{proof}

\begin{corollary}\label{topo space open constructible iff retrocompact}
For an open subset $U$ of $X$ to be constructible, it is necessary and sufficient that it is retrocompact in $X$. For a closed subset $F$ of $X$ to be constructible, it is necessary and sufficient that $F^c$ is retrocompact.
\end{corollary}



\subsection{Jacobson schemes}
A scheme $X$ is called \textbf{Jacobson} if its underlying space $X$ is Jacobson, in other words, the set $X_0$ of its closed points is dense in $X$. We say a ring $A$ is Jacobson if the scheme $\Spec(A)$ is Jacobson. Since any closed subset of $X=\Spec(A)$ is of the form $Z=V(\a)$, where $\a$ is a radical ideal of $A$, and the set $X_0$ of closed points of $X$ is the set of maximal ideals of $A$, we see $Z\cap X_0$ is dense in $Z$ if and only if $\a$ is the intersection of maximal ideals containing it. As $\a$ is already the intersection of prime ideals containing it, we see $A$ is a Jacobson ring if and only if each prime ideal of $A$ is the intersection of maximal ideals, which means $A$ is Jacobson in the usual sense.
\begin{proposition}\label{scheme Jacobson iff affine open}
Let $X$ be a scheme and $(U_\alpha)$ be an affine open covering of $X$. Then for $X$ to be Jacobson, it is necessary and sufficient that the ring $\Gamma(U_\alpha,\mathscr{O}_X)$ of $U_\alpha$ is Jacobson for all $\alpha$.
\end{proposition}
\begin{proof}
This is a concequence of \cref{*}.
\end{proof}

\begin{example}[\textbf{Example of Jacobson schemes}]
\mbox{}
\begin{itemize}
\item[(a)] A discrete scheme is Jacobson; an Artianian ring is therefore Jacobson.
\item[(b)] Any PID with infinitely many prime ideals is Jacobson (Proposition~\ref{Jacobson PID iff}).
\item[(c)] A Noetherian local ring $A$ is Jacobson if and only if the maximal ideal is the unique prime ideal, which means $A$ is Artianian.
\item[(d)] Any subscheme of a Jacobson scheme is again Jacobson, by Proposition~\ref{}.
\end{itemize}
\end{example}
\begin{proposition}\label{ring integral fraction field finite type iff}
Let $B$ be an integral domain. The following conditions are equivalent:
\begin{itemize}
\item[(\rmnum{1})] There exists $f\neq 0$ in $B$ such that $B_f$ is a field.
\item[(\rmnum{2})] The fraction field of $B$ is a $B$-algebra of finite type.
\item[(\rmnum{3})] There exists a field $K$ containing $B$ that is a $B$-algebra of finite type.
\item[(\rmnum{4})] The generic point of $\Spec(B)$ is isolated in $\Spec(B)$.
\end{itemize}
\end{proposition}
\begin{proof}
It is clear that (\rmnum{4}) is equivalent to (\rmnum{1}), since (\rmnum{4}) just means there exists $f\neq 0$ in $B$ such that $D(f)$ reduces to the generic point of $\Spec(B)$. It is also trivial that (\rmnum{1})$\Rightarrow$(\rmnum{2})$\Rightarrow$(\rmnum{3}). Finally, (\rmnum{3}) implies (\rmnum{1}), in view of Corollary~\ref{integral domain subfield of fraction finite algebra}.
\end{proof}
\begin{proposition}\label{scheme affine Jacobson iff nonclosed point}
Let $A$ be a ring. The following conditions are equivalent:
\begin{itemize}
\item[(\rmnum{1})] $A$ is a Jacobson ring.
\item[(\rmnum{2})] For any non maximal prime ideal $\p$ of $A$ and any $f\neq 0$ in $B=A/\p$, $B_f$ is not a field.
\item[(\rmnum{3})] Any finite type $A$-algebra $K$ that is a field is a finite $A$-algebra.
\end{itemize}
\end{proposition}
\begin{proof}
The equivalence of (\rmnum{1}) and (\rmnum{3}) is given in Theorem~\ref{Jacobson ring iff finite algebra field is finite}.
\end{proof}
\begin{corollary}\label{ring finite type over Jacobson is Jacobson}
Any finite type algebra $B$ over a Jacobson ring $A$ is Jacobson, and the inverse image in $A$ of any maximal ideal of $B$ is a maximal ideal of $A$.
\end{corollary}
\begin{corollary}\label{scheme finite type over Jacobson is Jacobson}
If $Y$ is a Jacobson scheme and $f:X\to Y$ is a morphism locally of finite type, then $X$ is a Jacobson scheme and the image under $f$ of any closed point of $Y$ is closed in $X$. 
\end{corollary}
\begin{example}
A scheme $X$ that is locally of finite type over $\Z$ is Jacobson. Moreover, we shall see that a point $x\in X$ to be closed in $X$, it is necessary and sufficient that $\kappa(x)$ is finite.
\end{example}

\subsection{Example: the topos \texorpdfstring{$\mathcal{B}G$}{BG}}
Let $G$ be a topological group and $\mathcal{B}G$ be the category of continuous $G$-sets. That is, sets $X$ endowed with a continuous right $G$-action $X\times G\to X$. We prove that $\mathcal{B}G$ is a topos by explicitly construct a site for $\mathcal{B}G$. Let $\mathcal{S}G$ be the full subcategory of $\mathcal{B}G$ whose objects are right $G$-sets of the form $G/U$, where $U$ is an open subgroup of $G$ (note that if $U$ is open then $G/U$ has discrete topology). By definition, a morphism $\phi:G/U\to G/V$ in $\mathcal{S}G$ has to preserve the action of $G$, i.e. $\phi(Uxg)=\phi(Ux)g$, so $\phi$ is completely determined by its action on the coset $U=Ue$. On the other hand, for any element $g\in G$, we can define a morphism
\[\phi:G/U\to G/V\]
in $\mathcal{B}G$ by the formula $\phi(Ux)=Vgx$, which is well-defined provided that $Ux=Uy$ implies $Vgx=Vgy$, or equivalently $U\sub g^{-1}Vg$. Putting these observations together, we conclude that morphisms $G/U\to G/V$ in $\mathcal{S}G$ correspond to cosets $Vg$ with the property that $U\sub g^{-1}Vg$, where for a coset $Vg$, the corresponding morphism is given by $Ux\mapsto Vgx$. In this notation, it is easy to see that composition in $\mathcal{S}G$ corresponds to multiplications in $G$.\par
Note that all morphisms in $\mathcal{S}G$ are epimorphisms in $\mathcal{B}G$. This suggests that we can equip $\mathcal{S}G$ with the discrete topology. Now there is a canonical functor $h:\mathcal{B}G\to\PSh(\mathcal{S}G)$ defined by $h(X)=\Hom_G(-,X)$, induced by the inclusion $\mathcal{S}G\to\mathcal{B}G$. We also note that
\[h(X)(G/U)=\Hom_G(G/U,X)\cong X^U:=\{x\in X:\text{$xg=x$ for $g\in U$}\}.\]
In terms of these fixed point sets, the functor $h$ sends the a morphism $G/V\to G/U$ given by multiplication by $g$ to the morphism $X^U\to X^V$ defined by the action of $g$. In fact, the action $g$ sends $X^U$ into $X^V$ because $G_{x\cdot g}=g^{-1}G_xg$ and we have $g^{-1}Ug\sups V$ by hypothesis.
\begin{theorem}\label{topos continuous G-set site SG}
For any topological group $G$, the functor $h:\mathcal{B}G\to\PSh(\mathcal{S}G)$ induces an equivalence of categories $\mathcal{B}G\cong\Sh(\mathcal{S}G)$, where $\mathcal{S}G$ is endowed with the discrete topology.
\end{theorem}
\begin{proof}
We define a functor $\psi:\PSh(\mathcal{S}G)\to\mathcal{B}G$ by setting, for each presheaf $F$ on $\mathcal{S}G$,
\[\psi(F)=\rlim_{U}F(G/U)\]
where the colimit is taken over all open subgroups $U$ of $G$, ordered by inclusion (note that if $U\sub V$ there is a canonical morphism $G/U\to G/V$ induced by the identity $e$). The elements of $\psi(F)$ are therefore equivalence classes $(x,U)$, where $x\in F(G/U)$ and $(x,U)=(y,V)$ if there exists an open subgroup $W\sub U\cap V$ such that the images of $x$ and $y$ in $F(G/W)$ are equal. The group $G$ acts on $\psi(F)$ by
\[(x,U)\cdot g=(y,g^{-1}Ug),\]
where $y$ is the image of $x$ under the canonical morphism $F(G/g^{-1}Ug\stackrel{g}{\to}G/U)$. This action is continuous since $G_x\sups U$, and is well-defined on equivalent classes.
\end{proof}
